"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.replaceImport = exports.replaceSrc = exports.replaceUrl = exports.replaceQuotes = exports.replace = void 0;
// replace
function replace(mark, placeholder, code) {
    const re = new RegExp(mark, 'g');
    return code.replace(re, placeholder);
}
exports.replace = replace;
// repalce quotes
function replaceQuotes(mark, placeholder, code) {
    const singleMark = `'${mark}`;
    const singlePlaceholder = `${placeholder}+'/`;
    const doubleMark = `"${mark}`;
    const doublePlaceholder = `${placeholder}+"/`;
    const templateMark = `\`${mark}`;
    const templatePlaceholder = `\`\$\{${placeholder}\}/`;
    return replace(doubleMark, doublePlaceholder, replace(singleMark, singlePlaceholder, replace(templateMark, templatePlaceholder, code)));
}
exports.replaceQuotes = replaceQuotes;
// replace asset url
function replaceUrl(mark, placeholder, code) {
    const urlMark = `url\\(${mark}`;
    const urlPlaceholder = `url("+${placeholder}+"/`;
    return replace(urlMark, urlPlaceholder, code);
}
exports.replaceUrl = replaceUrl;
// replace asset src
function replaceSrc(placeholder, code) {
    return code.replace(/=([a-zA-Z]+).src/g, `=${placeholder}+$1.getAttribute('data-src')`);
}
exports.replaceSrc = replaceSrc;
function replaceImport(placeholder, code) {
    return code.replace(/(System.import\()/g, `$1${placeholder}+`);
}
exports.replaceImport = replaceImport;
//# sourceMappingURL=utils.js.map